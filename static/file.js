(()=>{"use strict";({156:function(){var e=this&&this.__awaiter||function(e,o,n,t){return new(n||(n=Promise))((function(r,i){function c(e){try{a(t.next(e))}catch(e){i(e)}}function s(e){try{a(t.throw(e))}catch(e){i(e)}}function a(e){var o;e.done?r(e.value):(o=e.value,o instanceof n?o:new n((function(e){e(o)}))).then(c,s)}a((t=t.apply(e,o||[])).next())}))};const o=["geolocation","camera","microphone","notifications","midi","background-sync","ambient-light-sensor","accelerometer","gyroscope","magnetometer","accessibility-events","clipboard-read","clipboard-write","payment-handler","idle-detection","periodic-background-sync","screen-wake-lock","nfc"];function n(o){return e(this,void 0,void 0,(function*(){if(navigator.permissions&&navigator.permissions.query)try{return(yield navigator.permissions.query({name:o})).state}catch(e){console.error(`Error checking ${o} permission:`,e)}return"unknown"}))}function t(){return navigator.language}function r(e){let o=0;for(let n=0;n<e.length;n++)o=(o<<5)-o+e.charCodeAt(n),o|=0;return o.toString()}function i(e){return Array.isArray(e)?JSON.stringify(e.map((e=>i(e)))):"object"==typeof e&&null!==e?Object.keys(e).sort().map((o=>`${o}:${i(e[o])}`)).join("|"):e}function c(){return e(this,void 0,void 0,(function*(){const c=navigator.userAgent;console.log("User Agent:",c);const s={width:window.screen.width,height:window.screen.height};console.log("Screen Resolution:",s.width+"x"+s.height);const a=window.screen.colorDepth;console.log("Color Depth:",a);const d=function(){const e=document.createElement("canvas"),o=e.getContext("2d");return o?(e.width=200,e.height=200,o.fillStyle="rgb(255, 0, 255)",o.fillRect(0,0,e.width,e.height),o.font="16px Arial",o.fillStyle="rgb(0, 255, 255)",o.textBaseline="middle",o.fillText("Canvas Fingerprint",10,e.height/2),o.beginPath(),o.arc(50,50,30,0,2*Math.PI),o.strokeStyle="rgb(255, 255, 0)",o.lineWidth=2,o.stroke(),r(e.toDataURL())):""}();console.log("Canvas Fingerprint:",d);const u=t();console.log("User Language:",u);const l=function(){const e=document.createElement("canvas"),o=e.getContext("webgl")||e.getContext("experimental-webgl");return o&&o instanceof WebGLRenderingContext?r(o.getParameter(o.VENDOR)+o.getParameter(o.RENDERER)):""}();console.log("WebGL Fingerprint:",l);const p=function(){const e=document.createElement("canvas"),o=e.getContext("webgl")||e.getContext("experimental-webgl");if(!(o&&o instanceof WebGLRenderingContext))return console.error("WebGL is not supported"),{};const n={};for(const e in WebGLRenderingContext){const t=WebGLRenderingContext[e];if("number"==typeof t){const r=o.getParameter(t);null!==r&&(n[e]=r)}}return n}();console.log("WebGL Parameters:",p);const g=function(){const e=[];return MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E"')&&e.push("H.264"),MediaSource.isTypeSupported('video/webm; codecs="vp8"')&&e.push("VP8"),MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&e.push("VP9"),MediaSource.isTypeSupported('video/mp4; codecs="av01.0.05M.08"')&&e.push("AV1"),MediaSource.isTypeSupported('video/mp4; codecs="hev1.1.6.L93.B0"')&&e.push("HEVC"),MediaSource.isTypeSupported('video/ogg; codecs="theora"')&&e.push("Theora"),e}();console.log("Supported Video Codecs:",g);const m=function(){const e=[];return MediaRecorder.isTypeSupported('audio/webm; codecs="opus"')&&e.push("Opus"),MediaRecorder.isTypeSupported('audio/webm; codecs="vorbis"')&&e.push("Vorbis"),MediaRecorder.isTypeSupported('audio/mp4; codecs="mp4a.40.2"')&&e.push("AAC"),MediaRecorder.isTypeSupported("audio/flac")&&e.push("FLAC"),MediaRecorder.isTypeSupported('audio/mp4; codecs="alac"')&&e.push("ALAC"),MediaRecorder.isTypeSupported('audio/ogg; codecs="speex"')&&e.push("Speex"),MediaRecorder.isTypeSupported('audio/wav; codecs="1"')&&e.push("PCM"),e}();console.log("Supported Audio Codecs:",m);const v=function(){const e=[];for(const o in navigator)e.push(o);return e}();console.log("Navigator Properties:",v);const h=yield function(){return e(this,void 0,void 0,(function*(){const e={};for(const t of o){const o=yield n(t);e[t]=o}return e}))}();return console.log("Permissions:",h),i({"Screen resolution":s,"Color depth":a,"Canvas fingerprint":d,"Preferred language":u,"WebGL fingerprint":l,"WebGL parameters":p,"Supported video codecs":g,"Supported audio codecs":m,"Navigator properties":v,"Available permissions":h})}))}!function(){e(this,void 0,void 0,(function*(){console.log("Widget started");const o=performance.now(),n=self.crypto.randomUUID();console.log("UUID:",n);const r=yield c(),i=yield function(o){return e(this,void 0,void 0,(function*(){const e=(new TextEncoder).encode(o),n=yield crypto.subtle.digest("SHA-256",e),t=Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("").slice(0,32);return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20)}`}))}(r);console.log("Checksum:",i);const s=navigator.userAgent;console.log("User Agent:",s);const a=function(e){const o=e.match(/(chrome|firefox|safari|opera|msie|trident(?=\/))\/?\s*(\d+)/i);return o&&o.length>=3?{browser:o[1],version:o[2]}:{browser:"Unknown",version:"Unknown"}}(s);console.log("Browser:",a.browser),console.log("Version:",a.version);const d=function(e){const o=e.match(/(windows|mac|linux|android|ios)/i);return o&&o.length>=1?o[1]:"Unknown"}(s);console.log("Operating System:",d);const u=t();console.log("User Language:",u);const l=document.referrer;console.log("Referrer:",l);const p=window.location.pathname;console.log("Pathname:",p);const g=performance.now(),m=Math.round(g-o);function v(){return e(this,void 0,void 0,(function*(){console.log("logging activated"),document.removeEventListener("mousemove",v),document.removeEventListener("keydown",v),document.removeEventListener("scroll",v),document.removeEventListener("touchstart",v),document.removeEventListener("click",v),document.addEventListener("visibilitychange",(function(){if("hidden"===document.visibilityState){const e=performance.now(),t=Math.round(e-o);navigator.sendBeacon("https://tsgkgufovvgqnfavuuoj.supabase.co/functions/v1/log-time",JSON.stringify({uuid:n,timeOnPage:t}))}})),yield fetch("https://tsgkgufovvgqnfavuuoj.supabase.co/functions/v1/log-visit",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({checksum:i,language:u,referrer:l,pathName:p,uuid:n})})}))}console.log(`Execution time: ${m} ms`),document.addEventListener("mousemove",v),document.addEventListener("keydown",v),document.addEventListener("scroll",v),document.addEventListener("touchstart",v),document.addEventListener("click",v)}))}()}})[156]()})();