{{ define "main" }}

    {{ $imageResource := ($.Site.GetPage "section" "uploads").Resources.GetMatch (strings.TrimPrefix "/uploads/" .Params.banner) }}

    {{ $resizedHero2560 := $imageResource.Resize "2560x q90 webp"}}
    {{ $resizedHero1920 := $imageResource.Resize "1920x q90 webp"}}
    {{ $resizedHero1280 := $imageResource.Resize "1280x q90 webp"}}
    {{ $resizedHero768 := $imageResource.Resize "768x q90 webp"}}
    {{ $resizedHero512 := $imageResource.Resize "512x q90 webp"}}

    <header>
        <div class="container">
            <h1>{{ .Title }}</h1>
            <div class="courses-header">
                <img class="courses-hero"
                     src="{{ $resizedHero512.RelPermalink }}"
                     srcset="{{ $resizedHero512.RelPermalink }} 512w,
                         {{ $resizedHero768.RelPermalink }} 768w,
                         {{ $resizedHero1280.RelPermalink }} 1280w,
                         {{ $resizedHero1920.RelPermalink }} 1920w,
                         {{ $resizedHero2560.RelPermalink }} 2560w"
                     aria-hidden="true"
                     alt="">
                {{ .Params.textSection | markdownify }}
            </div>
        </div>
    </header>

    <main class="courses">
        <h2>{{ .Params.categoryTitle }}</h2>
        {{ range .Params.categories }}
            <section class="container">
                <h3>{{ .title }}</h3>
                <div class="course-grid">
                    {{ range .courses }}
                        <div class="course-card">
                            <h4>{{ .title }}</h4>
                            <p>
                                {{ .description }}
                            </p>
                        </div>
                    {{ end }}
                </div>
            </section>
        {{end}}
        <section class="container">
            {{ partial "pricing" . }}
        </section>
    </main>

{{ end }}